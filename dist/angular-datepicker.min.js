/*!
 * Angular Datepicker v2.0.0
 *
 * Released by 720kb.net under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * 2017-04-21
 */


!function(){"use strict";function a(a,b,c,d,e,f){function g(g,h,i){function j(){var a=angular.element(na),c=g.datepickerAppendTo&&-1!==g.datepickerAppendTo.indexOf("."),d=g.datepickerAppendTo&&-1!==g.datepickerAppendTo.indexOf("#"),e=g.datepickerAppendTo&&"body"===g.datepickerAppendTo;if(c){var f=g.datepickerAppendTo.replace(".",""),i=document.getElementsByClassName(f)[0],j=angular.element(i);j.append(b(a)(g,function(a){W=angular.element(a)[0]}))}else if(d){var f=g.datepickerAppendTo.replace("#",""),i=document.getElementById(f),j=angular.element(i);j.append(b(a)(g,function(a){W=angular.element(a)[0]}))}else if(e){var k=angular.element(document).find("body");k.append(b(a)(g,function(a){W=angular.element(a)[0]}))}else{var l=h[0].querySelector(".input-group");l?angular.element(l).after(b(a)(g)):oa.after(b(a)(g)),W=h[0].querySelector("._720kb-datepicker-calendar")}}function k(){V=angular.element(h[0].querySelector("span")),U=angular.element(a),X=angular.element(W),ka?(V&&(V.on("click",function(){w()}),V.on("mouseenter",function(){ia=!0}),V.on("mouseleave",function(){ia=!1})),oa.on("focus",function(){w()}),oa.on("mouseenter",function(){ha=!0}),oa.on("mouseleave",function(){ha=!1}),X.on("mouseenter",function(){ga=!0}),X.on("mouseleave",function(){ga=!1})):(oa.on("keydown",function(a){9==(a.keyCode||a.which)&&(V?(V.off("click mouseenter mouseleave"),oa.off("keydown focus mouseenter mouseleave"),X.off("mouseenter mouseleave"),U.off("click"),G()):(oa.off("keydown focus mouseenter mouseleave"),X.off("mouseenter mouseleave"),U.off("click"),G()))}),U.on("click",function(){V?ia||ha||ga||(l(),G()):ha||ga||(l(),G())})),g.$on("$destroy",function(){V&&V.off("click mouseenter mouseleave"),oa.off("focus mouseenter mouseleave"),X.off("mouseenter mouseleave"),U.off("click")})}function l(){V&&V.off("click mouseenter mouseleave"),oa.off("focus mouseenter mouseleave"),X.off("mouseenter mouseleave"),U.off("click")}function m(){g.dateSet&&!g.dateSetHidden&&v()}function n(){return['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-left">','<a id="previousMonthBtn" class="_720kb-datepicker-calendar-month-button" href="javascript:void(0)" tabindex=-1 ng-click="prevMonth()" ng-if="willPrevMonthBeSelectable()" title="'+ba+'">',_,"</a>","</div>",'<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-calendar-month">',"<strong>{{month}}</strong>&nbsp;",'<a href="javascript:void(0)" tabindex=-1 ng-click="toogleYearsBtn(); showYearsPagination = !showYearsPagination; setYearCalendarClasses()">',"<span>","{{year}}",'<i id="selectYearBtn" class="_720kb-datepicker-calendar-header-closed-pagination"></i>',"</span>","</a>","</div>",'<div class="_720kb-datepicker-calendar-header-right">','<a id="nextMonthBtn" class="_720kb-datepicker-calendar-month-button" tabindex=-1 href="javascript:void(0)" ng-click="nextMonth()" ng-if="willNextMonthBeSelectable()" title="'+ca+'">',aa,"</a>","</div>","</div>"]}function o(){return['<div class="_720kb-datepicker-calendar-header" ng-if="showYearsPagination">','<div class="_720kb-datepicker-calendar-years-pagination">','<a tabindex=-1 href="javascript:void(0)" ng-click="setNewYear(y);" ng-repeat="y in paginationYears track by $index">',"{{y}}","</a>","</div>",'<div class="_720kb-datepicker-calendar-years-pagination-pages">','<a href="javascript:void(0)" tabindex=-1 ng-click="prevYearPage(); setYearCalendarClasses();">',_,"</a>",'<a href="javascript:void(0)" tabindex=-1 ng-click="nextYearPage(); setYearCalendarClasses();">',aa,"</a>","</div>","</div>"]}function p(){return['<div class="_720kb-datepicker-calendar-days-header">','<div ng-repeat="d in ::daysInString">',"{{::d}}","</div>","</div>"]}function q(){return['<div class="_720kb-datepicker-calendar-body">','<a tabindex=-1 href="javascript:void(0)" ng-repeat="px in prevMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{::px}}","</a>",'<a active-day tabindex=-1 href="javascript:void(0)" ng-repeat="item in days" ng-click="setDatepickerDay(item)" class="_720kb-datepicker-calendar-day">',"{{::item}}","</a>",'<a tabindex=-1 href="javascript:void(0)" ng-repeat="nx in nextMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{::nx}}","</a>","</div>"]}function r(){qa=T(),ra=qa.getMonth(),g.day=qa.getDate(),g.year=qa.getFullYear()}function s(){ra=pa.getMonth(),g.day=pa.getDate(),g.year=pa.getFullYear()}function t(){g.year=Number(g.year)-1}function u(){g.year=Number(g.year)+1}function v(){var a=fa.getHours(),b=fa.getMinutes();fa=new Date(g.year,ra,g.day,a,b),(P(fa)||Q(fa))&&(da?oa.val(d("date")(fa,da)):oa.val(fa),oa.triggerHandler("input"),oa.triggerHandler("change"))}function w(){ja=!0,ka=!1;var b=a.document.getElementById(Y);b=angular.element(b),b.addClass("_720kb-datepicker-open"),k()}function x(){for(var a=ra,b=g.year,c=new Date(b,a+1,0),d=new Date(b,a),e=c.getDay(),f=d.getDay(),h=c.getDate(),i=(d.getDate(),[]),j=[],k=[],l=1;l<=h;l++)k.push(l);if(0!==f)for(var m=new Date(b,a,0),n=m.getDate(),o=m.getDay(),l=o;l>=0;l--)i.push(n-l);if(e<6)for(var p=6-e,l=1;l<=p;l++)j.push(l);g.prevMonthDays=i,g.nextMonthDays=j,g.days=k,y()}function y(){f(function(){var a="_720kb-datepicker-active",b="_720kb-datepicker-disabled",c=h[0].querySelectorAll("a[active-day]");c&&0!=c.length&&angular.forEach(c,function(c){c=angular.element(c);var d=new Date(g.year,ra,Number(c.html())),e=!P(d)||!Q(d)||!O(d);c.removeClass(a),c.removeClass(b),g.day==c.html()&&sa&&c.addClass(a),e&&c.addClass(b)})})}function z(){if(11===ra?(ra=0,u()):ra+=1,pa){Q(new Date(g.year,ra,g.days[0]))||s()}A(),E(),x()}function A(){var a=d("date")(new Date(g.year,ra),"MMMM");g.month=a[0].toUpperCase()+a.substr(1,a.length-1)}function B(){var a=ra,b=g.year,c=new Date(b,a,1).getTime(),e=d("date")(new Date(c-Z),"dd");if(0===a?(a=11,b-=1):a-=1,qa){var c=new Date(b,a,e);return P(c)}return!0}function C(){var a=ra,b=g.year;if(11===a?(a=0,b+=1):a+=1,pa){return Q(new Date(b,a,1))}return!0}function D(){if(0===ra?(ra=11,t()):ra-=1,qa){g.year,g.days[g.days.length-1];P(new Date(g.year,ra,g.day-1))||r()}A(),E(),x()}function E(){var a=new Date(fa.getFullYear(),fa.getMonth()),b=new Date(g.year,ra);sa=a.getTime()!==b.getTime()?void 0:fa.getDate()}function F(a){var b=g.year<Number(a),c=g.year>Number(a);if(g.year!==Number(a)){if(b)if(pa){if(!R(a))return;var d=new Date(a,fa.getMonth(),g.day);g.year=a,Q(d)||s()}else g.year=a;if(c)if(qa){if(!S(a))return;var d=new Date(a,fa.getMonth(),g.day);d.setFullYear(a),g.year=a,P(d)||r()}else g.year=a;A(),E(),x(),I(),g.showYearsPagination=!1,N(),M()}}function G(){ka=!0,ja=!1,f(function(){angular.element(W).removeClass("_720kb-datepicker-open")}),l(),k()}function H(a){var b=new Date(g.year,ra,a);O(b)&&Q(b)&&P(b)&&(g.day=Number(a),v(),i.hasOwnProperty("dateRefocus")&&oa[0].focus(),y(),G())}function I(){var a=g.year,b=g.howManyYearsToShow?g.howManyYearsToShow:20;b=Math.ceil(b/2);var c=[],d=b,e=b;g.paginationYears=[];for(var f=d;f>0;f-=1)c.push(Number(a)-f);for(var f=0;f<e;f+=1)c.push(Number(a)+f);g.paginationYears=c;var h=new Date(c[0],0).getFullYear(),i=new Date(c[c.length-1],0).getFullYear();la=S(h),ma=R(i)}function J(){var a=g.howManyYearsToShow?g.howManyYearsToShow:20,b=Math.ceil(a/2),c=L(b,g.paginationYears[0]),d=!1,e=!1;L(b,c[0]).forEach(function(a){S(new Date(a,0).getFullYear())&&(d=!0)}),L(b,c[b]+b).forEach(function(a){R(new Date(a,0).getFullYear())&&(e=!0)}),g.paginationYears=c,ma=e,la=d}function K(){var a=g.howManyYearsToShow?g.howManyYearsToShow:20,b=Math.ceil(a/2),c=L(b,g.paginationYears[b]+b),d=!1,e=!1;L(b,c[0]).forEach(function(a){S(new Date(a,0).getFullYear())&&(d=!0)}),L(b,c[b]+b).forEach(function(a){R(new Date(a,0).getFullYear())&&(e=!0)}),g.paginationYears=c,ma=e,la=d}function L(a,b){for(var c=[],d=a;d>0;d-=1)c.push(Number(b)-d);for(var d=0;d<a;d+=1)c.push(Number(b)+d);return c}function M(){g.showYearsPagination&&f(function(){var a=h[0].querySelector("._720kb-datepicker-calendar-years-pagination-pages"),b=a.querySelectorAll("a"),c=h[0].querySelector("._720kb-datepicker-calendar-years-pagination"),d=c.querySelectorAll("a"),e=!1;if(0!=d.length&&(angular.forEach(d,function(a){a=angular.element(a),a.removeClass("_720kb-datepicker-active"),a.removeClass("_720kb-datepicker-disabled"),a.html()==g.year&&(e=!0,a.addClass("_720kb-datepicker-active")),R(a.html())&&S(a.html())||a.addClass("_720kb-datepicker-disabled")}),0!=b.length)){var f=angular.element(b[0]),i=angular.element(b[1]),j="_720kb-datepicker-item-hidden";ma?i.removeClass(j):i.addClass(j),la?f.removeClass(j):f.addClass(j)}})}function N(){angular.element(h[0].querySelector("#selectYearBtn")).toggleClass("_720kb-datepicker-calendar-header-opened-pagination _720kb-datepicker-calendar-header-closed-pagination")}function O(a){if(ea&&ea.length>0)for(var b=0;b<=ea.length;b+=1){var c=new Date(ea[b]).getTime(),d=a.getTime();if(c===d)return!1}return!0}function P(a){return!qa||a.getTime()>=new Date(g.dateMinLimit).getTime()}function Q(a){return!pa||a.getTime()<=pa.getTime()}function R(a){return!pa||a<=pa.getFullYear()}function S(a){return!qa||a>=new Date(g.dateMinLimit).getFullYear()}function T(){var a=g.dateMinLimit;if(a){a instanceof Date||(a=new Date(a)),"Invalid Date"===a.toString()&&(a=void 0)}return a}var U,V,W,X,Y,Z=864e5,$=g.selector,_=i.buttonPrev||'<b class="_720kb-datepicker-default-button">&lang;</b>',aa=i.buttonNext||'<b class="_720kb-datepicker-default-button">&rang;</b>',ba=ba||"Prev",ca=ca||"Next",da=g.dateFormat,ea=function(){var a=g.dateDisabledDates,b=a instanceof Array;return a&&b&&(a=a.map(function(a){return a instanceof Date||(a=new Date(a)),"Invalid Date"!==a.toString()?a:void 0}),a=a.filter(function(a){return!!a}),a=0===a.length?void 0:a),a}(),fa=function(){var a=g.dateSet;if(a){return g.dateSet instanceof Date||(a=new Date(g.dateSet)),"Invalid Date"!==a.toString()?new Date(a.getTime()):new Date}return new Date}(),ga=!1,ha=!1,ia=!1,ja=!1,ka=!0,la=!0,ma=!0,na=function(){Y="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8);var a=[];a.push('<div id="'+Y+'" '),a.push('class="_720kb-datepicker-calendar'),g.datepickerClass&&a.push(" "+g.datepickerClass),g.classForToggle&&a.push(" "+g.classForToggle),a.push('">'),a.push("</div>");var b=n(),c=o(),d=p(),f=q(),h=function(b){a.splice(a.length-1,0,b)};return b.forEach(h),c.forEach(h),d.forEach(h),f.forEach(h),a=a.join(""),a=a.replace(/{{/g,e.startSymbol()),a=a.replace(/}}/g,e.endSymbol())}(),oa=(function(){function a(a,b){if(!(a.className.indexOf(b)>-1)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}}function b(a,b){if(-1!==a.className.indexOf(b)){for(var c=a.className.split(" "),d=0;d<c.length;d++)if(c[d]===b){c=c.slice(0,d).concat(c.slice(d+1));break}a.className=c.joins(" ")}}}(),function(){return $?angular.element(h[0].querySelector("."+$)):angular.element(h[0].querySelector("input:first-child"))}()),pa=function(){var a=g.dateMaxLimit;if(a){a instanceof Date||(a=new Date(a)),"Invalid Date"===a.toString()&&(a=void 0)}return a}(),qa=T(),ra=function(){return fa.getMonth()}(),sa=fa.getDate();g.day=function(){return fa.getDate()}(),g.year=function(){return fa.getFullYear()}(),g.daysInString=c.DATETIME_FORMATS.SHORTDAY,g.willPrevMonthBeSelectable=B,g.willNextMonthBeSelectable=C,g.nextMonth=z,g.prevMonth=D,g.setNewYear=F,g.setDatepickerDay=H,g.paginateYears=I,g.prevYearPage=J,g.nextYearPage=K,g.toogleYearsBtn=N,g.setYearCalendarClasses=M,function(){m(),A(),j(),k(),I(),x()}(),g.$watch("dateMinLimit",function(a,b){if(a!==b){y();P(new Date(g.year,ra,g.day))||(r(),g.day=new Date(a).getDate(),v())}})}return{restrict:"AEC",scope:{selector:"@",dateFormat:"@",dateSet:"<",howManyYearsToShow:"@",dateMinLimit:"=",dateMaxLimit:"@",dateMonthTitle:"@",dateYearTitle:"@",buttonNextTitle:"@",buttonPrevTitle:"@",dateDisabledDates:"<",dateSetHidden:"@",dateTyper:"@",datepickerAppendTo:"@",datepickerClass:"@"},link:g}}angular.module("720kb.datepicker",[]).directive("datepicker",a),a.$inject=["$window","$compile","$locale","$filter","$interpolate","$timeout"]}();
//# sourceMappingURL=angular-datepicker.sourcemap.map