/*!
 * Angular Datepicker v2.0.0
 *
 * Released by 720kb.net under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * 2017-02-08
 */


!function(){"use strict";function a(a,b,c,d,e,f){function g(g,h,i){function j(){n(),E(),k(),l(),M(),B()}function k(){var a=angular.element(za),c=g.datepickerAppendTo&&g.datepickerAppendTo.indexOf(".")!==-1,d=g.datepickerAppendTo&&g.datepickerAppendTo.indexOf("#")!==-1,e=g.datepickerAppendTo&&"body"===g.datepickerAppendTo;if(c){var f=g.datepickerAppendTo.replace(".",""),i=document.getElementsByClassName(f)[0],j=angular.element(i);j.append(b(a)(g,function(a){ea=angular.element(a)[0]}))}else if(d){var f=g.datepickerAppendTo.replace("#",""),i=document.getElementById(f),j=angular.element(i);j.append(b(a)(g,function(a){ea=angular.element(a)[0]}))}else if(e){var k=angular.element(document).find("body");k.append(b(a)(g,function(a){ea=angular.element(a)[0]}))}else{var l=h[0].querySelector(".input-group");l?angular.element(l).after(b(a)(g)):Aa.after(b(a)(g)),ea=h[0].querySelector("._720kb-datepicker-calendar")}}function l(){da=angular.element(h[0].querySelector("span")),ca=angular.element(a),fa=angular.element(ea),wa?(da&&(da.on("click",function(){A()}),da.on("mouseenter",function(){ua=!0}),da.on("mouseleave",function(){ua=!1})),Aa.on("focus",function(){A()}),Aa.on("mouseenter",function(){ta=!0}),Aa.on("mouseleave",function(){ta=!1}),fa.on("mouseenter",function(){sa=!0}),fa.on("mouseleave",function(){sa=!1})):(Aa.on("keydown",function(a){var b=a.keyCode||a.which;9==b&&(da?(da.off("click mouseenter mouseleave"),Aa.off("keydown focus mouseenter mouseleave"),fa.off("mouseenter mouseleave"),ca.off("click"),K()):(Aa.off("keydown focus mouseenter mouseleave"),fa.off("mouseenter mouseleave"),ca.off("click"),K()))}),ca.on("click",function(){da?ua||ta||sa||(m(),K()):ta||sa||(m(),K())})),g.$on("$destroy",function(){da&&da.off("click mouseenter mouseleave"),Aa.off("focus mouseenter mouseleave"),fa.off("mouseenter mouseleave"),ca.off("click")})}function m(){da&&da.off("click mouseenter mouseleave"),Aa.off("focus mouseenter mouseleave"),fa.off("mouseenter mouseleave"),ca.off("click")}function n(){g.dateSet&&!g.dateSetHidden&&y()}function o(){return ia?angular.element(h[0].querySelector("."+ia)):angular.element(h[0].querySelector("input:first-child"))}function p(){ga="datepicker-id-"+(new Date).getTime()+(Math.floor(6*Math.random())+8);var a=[];a.push('<div id="'+ga+'" '),a.push('class="_720kb-datepicker-calendar'),g.datepickerClass&&a.push(" "+g.datepickerClass),g.classForToggle&&a.push(" "+g.classForToggle),a.push('">'),a.push("</div>");var b=q(),c=r(),d=s(),f=t(),h=function(b){a.splice(a.length-1,0,b)};return b.forEach(h),c.forEach(h),d.forEach(h),f.forEach(h),a=a.join(""),a=a.replace(/{{/g,e.startSymbol()),a=a.replace(/}}/g,e.endSymbol())}function q(){return['<div class="_720kb-datepicker-calendar-header">','<div class="_720kb-datepicker-calendar-header-left">','<a id="previousMonthBtn" class="_720kb-datepicker-calendar-month-button" href="javascript:void(0)" tabindex=-1 ng-click="prevMonth()" ng-if="willPrevMonthBeSelectable()" title="'+na+'">',la,"</a>","</div>",'<div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-calendar-month">',"<strong>{{month}}</strong>&nbsp;",'<a href="javascript:void(0)" tabindex=-1 ng-click="toogleYearsBtn(); showYearsPagination = !showYearsPagination; setYearCalendarClasses()">',"<span>","{{year}}",'<i id="selectYearBtn" class="_720kb-datepicker-calendar-header-closed-pagination"></i>',"</span>","</a>","</div>",'<div class="_720kb-datepicker-calendar-header-right">','<a id="nextMonthBtn" class="_720kb-datepicker-calendar-month-button" tabindex=-1 href="javascript:void(0)" ng-click="nextMonth()" ng-if="willNextMonthBeSelectable()" title="'+oa+'">',ma,"</a>","</div>","</div>"]}function r(){return['<div class="_720kb-datepicker-calendar-header" ng-if="showYearsPagination">','<div class="_720kb-datepicker-calendar-years-pagination">','<a tabindex=-1 href="javascript:void(0)" ng-click="setNewYear(y);" ng-repeat="y in paginationYears track by $index">',"{{y}}","</a>","</div>",'<div class="_720kb-datepicker-calendar-years-pagination-pages">','<a href="javascript:void(0)" tabindex=-1 ng-click="prevYearPage(); setYearCalendarClasses();">',la,"</a>",'<a href="javascript:void(0)" tabindex=-1 ng-click="nextYearPage(); setYearCalendarClasses();">',ma,"</a>","</div>","</div>"]}function s(){return['<div class="_720kb-datepicker-calendar-days-header">','<div ng-repeat="d in ::daysInString">',"{{::d}}","</div>","</div>"]}function t(){return['<div class="_720kb-datepicker-calendar-body">','<a tabindex=-1 href="javascript:void(0)" ng-repeat="px in prevMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{::px}}","</a>",'<a active-day tabindex=-1 href="javascript:void(0)" ng-repeat="item in days" ng-click="setDatepickerDay(item)" class="_720kb-datepicker-calendar-day">',"{{::item}}","</a>",'<a tabindex=-1 href="javascript:void(0)" ng-repeat="nx in nextMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled">',"{{::nx}}","</a>","</div>"]}function u(){Ca=_(),Da=Ca.getMonth(),g.day=Ca.getDate(),g.year=Ca.getFullYear()}function v(){Da=Ba.getMonth(),g.day=Ba.getDate(),g.year=Ba.getFullYear()}function w(){g.year=Number(g.year)-1}function x(){g.year=Number(g.year)+1}function y(){ra=new Date(g.year,Da,g.day),(T(ra)||U(ra))&&(pa?Aa.val(d("date")(ra,pa)):Aa.val(ra),Aa.triggerHandler("input"),Aa.triggerHandler("change"))}function z(){function a(a,b){if(!(a.className.indexOf(b)>-1)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}}function b(a,b){if(a.className.indexOf(b)!==-1){for(var c=a.className.split(" "),d=0;d<c.length;d++)if(c[d]===b){c=c.slice(0,d).concat(c.slice(d+1));break}a.className=c.joins(" ")}}return{add:a,remove:b}}function A(){va=!0,wa=!1;var b="_720kb-datepicker-open",c=a.document.getElementById(ga);c=angular.element(c),c.addClass(b),l()}function B(){for(var a=Da,b=g.year,c=new Date(b,a+1,0),d=new Date(b,a),e=c.getDay(),f=d.getDay(),h=c.getDate(),i=(d.getDate(),[]),j=[],k=[],l=1;l<=h;l++)k.push(l);if(0!==f)for(var m=new Date(b,a,0),n=m.getDate(),o=m.getDay(),l=o;l>=0;l--)i.push(n-l);if(e<6)for(var p=6-e,l=1;l<=p;l++)j.push(l);g.prevMonthDays=i,g.nextMonthDays=j,g.days=k,C()}function C(){f(function(){var a="_720kb-datepicker-active",b="_720kb-datepicker-disabled",c=h[0].querySelectorAll("a[active-day]");c&&0!=c.length&&angular.forEach(c,function(c){c=angular.element(c);var d=new Date(g.year,Da,Number(c.html())),e=!T(d)||!U(d)||!S(d);c.removeClass(a),c.removeClass(b),g.day==c.html()&&Ea&&c.addClass(a),e&&c.addClass(b)})})}function D(){if(11===Da?(Da=0,x()):Da+=1,Ba){var a=new Date(g.year,Da,g.days[0]);U(a)||v()}E(),I(),B()}function E(){var a=d("date")(new Date(g.year,Da),"MMMM");g.month=a[0].toUpperCase()+a.substr(1,a.length-1)}function F(){var a=Da,b=g.year,c=new Date(b,a,1).getTime(),e=d("date")(new Date(c-ha),"dd");if(0===a?(a=11,b-=1):a-=1,Ca){var c=new Date(b,a,e);return T(c)}return!0}function G(){var a=Da,b=g.year;if(11===a?(a=0,b+=1):a+=1,Ba){var c=new Date(b,a,1);return U(c)}return!0}function H(){if(0===Da?(Da=11,w()):Da-=1,Ca){var a=(g.year,g.days[g.days.length-1],new Date(g.year,Da,g.day-1));T(a)||u()}E(),I(),B()}function I(){var a=new Date(ra.getFullYear(),ra.getMonth()),b=new Date(g.year,Da);Ea=a.getTime()!==b.getTime()?void 0:ra.getDate()}function J(a){var b=g.year<Number(a),c=g.year>Number(a),d=g.year===Number(a);if(!d){if(b)if(Ba){if(!V(a))return;var e=new Date(a,ra.getMonth(),g.day);g.year=a,U(e)||v()}else g.year=a;if(c)if(Ca){if(!W(a))return;var e=new Date(a,ra.getMonth(),g.day);e.setFullYear(a),g.year=a,T(e)||u()}else g.year=a;E(),I(),B(),M(),g.showYearsPagination=!1,R(),Q()}}function K(){var a="_720kb-datepicker-open";wa=!0,va=!1,f(function(){angular.element(ea).removeClass(a)}),m(),l()}function L(a){var b=new Date(g.year,Da,a),c=S(b)&&U(b)&&T(b);c&&(g.day=Number(a),y(),i.hasOwnProperty("dateRefocus")&&Aa[0].focus(),C(),K())}function M(){var a=g.year,b=g.howManyYearsToShow?g.howManyYearsToShow:20;b=Math.ceil(b/2);var c=[],d=b,e=b;g.paginationYears=[];for(var f=d;f>0;f-=1)c.push(Number(a)-f);for(var f=0;f<e;f+=1)c.push(Number(a)+f);g.paginationYears=c;var h=new Date(c[0],0).getFullYear(),i=new Date(c[c.length-1],0).getFullYear();xa=W(h),ya=V(i)}function N(){var a=g.howManyYearsToShow?g.howManyYearsToShow:20,b=Math.ceil(a/2),c=P(b,g.paginationYears[0]),d=!1,e=!1;P(b,c[0]).forEach(function(a){W(new Date(a,0).getFullYear())&&(d=!0)}),P(b,c[b]+b).forEach(function(a){V(new Date(a,0).getFullYear())&&(e=!0)}),g.paginationYears=c,ya=e,xa=d}function O(){var a=g.howManyYearsToShow?g.howManyYearsToShow:20,b=Math.ceil(a/2),c=P(b,g.paginationYears[b]+b),d=!1,e=!1;P(b,c[0]).forEach(function(a){W(new Date(a,0).getFullYear())&&(d=!0)}),P(b,c[b]+b).forEach(function(a){V(new Date(a,0).getFullYear())&&(e=!0)}),g.paginationYears=c,ya=e,xa=d}function P(a,b){for(var c=[],d=a;d>0;d-=1)c.push(Number(b)-d);for(var d=0;d<a;d+=1)c.push(Number(b)+d);return c}function Q(){g.showYearsPagination&&f(function(){var a="_720kb-datepicker-calendar-years-pagination-pages",b=h[0].querySelector("."+a),c=b.querySelectorAll("a"),d="_720kb-datepicker-calendar-years-pagination",e=h[0].querySelector("."+d),f=e.querySelectorAll("a"),i=!1;if(0!=f.length&&(angular.forEach(f,function(a){a=angular.element(a),a.removeClass("_720kb-datepicker-active"),a.removeClass("_720kb-datepicker-disabled"),a.html()==g.year&&(i=!0,a.addClass("_720kb-datepicker-active")),V(a.html())&&W(a.html())||a.addClass("_720kb-datepicker-disabled")}),0!=c.length)){var j=angular.element(c[0]),k=angular.element(c[1]),l="_720kb-datepicker-item-hidden";ya?k.removeClass(l):k.addClass(l),xa?j.removeClass(l):j.addClass(l)}})}function R(){var a="_720kb-datepicker-calendar-header-opened-pagination",b="_720kb-datepicker-calendar-header-closed-pagination",c=angular.element(h[0].querySelector("#selectYearBtn"));c.toggleClass(a+" "+b)}function S(a){var b=qa&&qa.length>0;if(b)for(var c=0;c<=qa.length;c+=1){var d=new Date(qa[c]).getTime(),e=a.getTime();if(d===e)return!1}return!0}function T(a){return!Ca||a.getTime()>=new Date(g.dateMinLimit).getTime()}function U(a){return!Ba||a.getTime()<=Ba.getTime()}function V(a){return!Ba||a<=Ba.getFullYear()}function W(a){return!Ca||a>=new Date(g.dateMinLimit).getFullYear()}function X(){return ra.getFullYear()}function Y(){return ra.getMonth()}function Z(){return ra.getDate()}function $(){var a=g.dateMaxLimit;if(a){var b=a instanceof Date;b||(a=new Date(a)),"Invalid Date"===a.toString()&&(a=void 0)}return a}function _(){var a=g.dateMinLimit;if(a){var b=a instanceof Date;b||(a=new Date(a)),"Invalid Date"===a.toString()&&(a=void 0)}return a}function aa(){var a=g.dateSet;if(a){var b=g.dateSet instanceof Date;return b||(a=new Date(g.dateSet)),"Invalid Date"!==a.toString()?new Date(a.getTime()):new Date}return new Date}function ba(){var a=g.dateDisabledDates,b=a instanceof Array;return a&&b&&(a=a.map(function(a){var b=a instanceof Date;return b||(a=new Date(a)),"Invalid Date"!==a.toString()?a:void 0}),a=a.filter(function(a){return!!a}),a=0===a.length?void 0:a),a}var ca,da,ea,fa,ga,ha=864e5,ia=g.selector,ja='<b class="_720kb-datepicker-default-button">&lang;</b>',ka='<b class="_720kb-datepicker-default-button">&rang;</b>',la=i.buttonPrev||ja,ma=i.buttonNext||ka,na=na||"Prev",oa=oa||"Next",pa=g.dateFormat,qa=ba(),ra=aa(),sa=!1,ta=!1,ua=!1,va=!1,wa=!0,xa=!0,ya=!0,za=p(),Aa=(z(),o()),Ba=$(),Ca=_(),Da=Y(),Ea=ra.getDate();g.day=Z(),g.year=X(),g.daysInString=c.DATETIME_FORMATS.SHORTDAY,g.willPrevMonthBeSelectable=F,g.willNextMonthBeSelectable=G,g.nextMonth=D,g.prevMonth=H,g.setNewYear=J,g.setDatepickerDay=L,g.paginateYears=M,g.prevYearPage=N,g.nextYearPage=O,g.toogleYearsBtn=R,g.setYearCalendarClasses=Q,j(),g.$watch("dateMinLimit",function(a,b){if(a!==b){C();var c=new Date(g.year,Da,g.day),d=T(c);d||(u(),g.day=new Date(a).getDate(),y())}})}var h={restrict:"AEC",scope:{selector:"@",dateFormat:"@",dateSet:"<",howManyYearsToShow:"@",dateMinLimit:"=",dateMaxLimit:"@",dateMonthTitle:"@",dateYearTitle:"@",buttonNextTitle:"@",buttonPrevTitle:"@",dateDisabledDates:"<",dateSetHidden:"@",dateTyper:"@",datepickerAppendTo:"@",datepickerClass:"@"},link:g};return h}angular.module("720kb.datepicker",[]).directive("datepicker",a),a.$inject=["$window","$compile","$locale","$filter","$interpolate","$timeout"]}();
//# sourceMappingURL=angular-datepicker.sourcemap.map